webpackJsonp([8],{Boam:function(t,s){},ML9b:function(t,s){},eRkG:function(t,s){},l9fw:function(t,s){},oG67:function(t,s,e){"use strict";var a={name:"TopBar",props:{opacity:{type:Number,default:0}},data:function(){return{email:"support@manfulls.com"}}},i={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"row top-bar p-0",class:{opacityBar:this.opacity>0}},[s("div",{staticClass:"col-sm-8"}),this._v(" "),s("div",{staticClass:"col-sm-4 text-right top-bar-right-content"},[this._v("\n    \n    "+this._s(this.$store.getters.getUserName())+"\n  ")])])},staticRenderFns:[]};var n=e("VU/8")(a,i,!1,function(t){e("ML9b")},"data-v-0843b940",null);s.a=n.exports},qmj4:function(t,s,e){"use strict";e("7t+N");var a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"dialog d-none",attrs:{id:"dialog"}},[s("div",[this._v("aaaa")])])}]};var i=e("VU/8")({name:"Toast"},a,!1,function(t){e("eRkG")},"data-v-47ed3e30",null);s.a=i.exports},uO9N:function(t,s){},zINL:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("oG67"),i=e("qmj4"),n=e("Xxa5"),o=e.n(n),r=e("exGp"),l=e.n(r),c=e("/xUl"),u=(e("5nBN"),e("NAQQ")),m=e("I76R"),p=e.n(m),d={name:"LoginForm",data:function(){return{password:"",email:"",tip_email:"",tip_password:""}},methods:{showMsg:function(t,s){"PWD_ERROR"==t?t="密码错误！！！":"NO_USER"==t&&(t="无此账号！！！"),u.a.showToast(t,s)},_submit:function(){var t=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1800;return l()(o.a.mark(function e(){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.user.login(t.email,t.password);case 2:if(!(a=(a=e.sent).data).status){e.next=11;break}return u.a.showToast("登录成功。",s),e.next=8,t.$store.commit("saveLogin",{nick:a.nick,named:t.email,pass:u.a.salt.add_salt_form_string(t.password)});case 8:setTimeout(function(){t.$router.push({path:"/"})},918),e.next=12;break;case 11:t.showMsg(a.msg,s);case 12:case"end":return e.stop()}},e,t)}))()},submitLoginForm:function(){1==this.validateForm()?this._submit():u.a.showToast("請檢查輸入")},tipClose:function(t){var s=this;setTimeout(function(){"email"==t?s.tip_email="":"password"==t&&(s.tip_password="")},4200)},tipForm:function(t,s){var e="";1!=t&&(e=t),"email"==s?this.tip_email=e:"password"==s&&(this.tip_password=e),this.tipClose(s)},validateForm:function(){var t=p.a.val_empty(this.email,"電郵");return 1==t?(t=p.a.val_email(this.email,"電郵"),this.tipForm(t,"email")):this.tipForm(t,"email"),1==(t=p.a.val_empty(this.password,"密碼"))?(t=p.a.val_char(this.password,"密碼"),this.tipForm(t,"password")):this.tipForm(t,"password"),t}}},f={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("form",{staticClass:"form form-panel text-left of-visible"},[e("div",{staticClass:"form-group of-visible"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",id:"email",placeholder:"電郵地址"},domProps:{value:t.email},on:{input:function(s){s.target.composing||(t.email=s.target.value)}}}),t._v(" "),e("small",{staticClass:"form-text text-muted",attrs:{id:"emailTip"}},[t._v(t._s(t.tip_email))])]),t._v(" "),e("div",{staticClass:"form-group of-visible"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"密碼"},domProps:{value:t.password},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.submitLoginForm(s)},input:function(s){s.target.composing||(t.password=s.target.value)}}}),t._v(" "),e("small",{staticClass:"form-text text-muted",attrs:{id:"passwordTip"}},[t._v(t._s(t.tip_password))])])])},staticRenderFns:[]};var v=e("VU/8")(d,f,!1,function(t){e("Boam")},"data-v-25be4bce",null).exports,h={name:"AuthLayout",props:{backImg:{type:String,default:"login.jpg"}}},_={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"position-relative wrapper"},[s("div",{staticClass:"position-absolute bg"}),this._v(" "),s("div",{staticClass:"position-absolute content"},[this._t("content")],2)])},staticRenderFns:[]};var g=e("VU/8")(h,_,!1,function(t){e("uO9N")},"data-v-b20530fa",null).exports,w={name:"LoginView",components:{ScaffoldBar:a.a,Toast:i.a,LoginForm:v,AuthLayout:g},methods:{submit:function(){this.$refs.form.submitLoginForm()}}},b={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("auth-layout",{attrs:{backImg:"login.jpg"}},[e("div",{staticClass:"bg-hui",attrs:{slot:"content"},slot:"content"},[e("scaffold-bar",{staticClass:"position-fixed"}),t._v(" "),e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row d-flex justify-content-center wrapper"},[e("div",{staticClass:"col-sm-12 col-lg-4 pt-5"},[e("h1",{staticClass:"login-title"},[t._v(" ")]),t._v(" "),e("div",{staticClass:"login-panel bg-white def-shadow mt-2 text-center of-visible"},[e("login-form",{ref:"form"}),t._v(" "),e("button",{staticClass:"btn btn-outline-info login-btn",on:{click:t.submit,":keyup":function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.submit(s)}}},[t._v("登錄")])],1)])])]),t._v(" "),e("toast")],1)])},staticRenderFns:[]};var x=e("VU/8")(w,b,!1,function(t){e("l9fw")},"data-v-364b8206",null);s.default=x.exports}});
//# sourceMappingURL=8.866a807bb29cabd2a75c.js.map