webpackJsonp([5],{"5E/x":function(t,e){},OTU3:function(t,e){},fiGY:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i("5nBN");var s=i("wYMm"),a=i("NAQQ"),n=i("/xUl"),r=i("gS0T"),o={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h5",{staticClass:"fw-none mt-2"},[t._v("\n    全部\n  ")]),t._v(" "),i("table",{staticClass:"table m-0"},[i("tr",{staticClass:"text-left"},[i("td",{staticClass:"text-accent",attrs:{width:"6%"}},[t._v("#")]),t._v(" "),i("td",{attrs:{width:"10%"}},[t._v("报价单号")]),t._v(" "),i("td",{attrs:{width:"23%"}},[t._v("所属客户")]),t._v(" "),i("td",{attrs:{width:"20%"}},[t._v("报价日期")]),t._v(" "),i("td",{staticClass:"text-center",attrs:{width:"12%"}},[t._v("菜品数量")]),t._v(" "),i("td",{staticClass:"text-center",attrs:{width:"12%"}},[t._v("Pdf 文件")]),t._v(" "),i("td",{staticClass:"text-center",attrs:{width:"12%"}})])])])}]};var c=i("VU/8")({name:"PricesViewTop"},o,!1,function(t){i("hHnX")},"data-v-e0f883ca",null).exports,d=i("z8RL"),l=i("SiM+"),_={name:"PricesViewBody",components:{Pencil:d.a,Remove:l.a},props:{prices:{type:Array}},methods:{ser_timed:function(t){return a.a.timed.ser_timed(t,!0,!0)},ser_timed_now_month:function(t,e){return a.a.timed.is_now_month(t)?'<div class="tip tip-success fw-b">!</div>':""},option:function(t,e){this.$emit("option_Father",t,e)},pdfView:function(t){this.$emit("pdfView_Father",t)},showTip:function(){a.a.showToast("该报价单是属于今月份的。")}}},m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",{staticClass:"table m-0 table-top-line-none"},[i("tbody",t._l(t.prices,function(e,s){return i("tr",{key:e.id,staticClass:"text-left"},[i("td",{staticClass:"text-accent",attrs:{width:"6%"}},[t._v(t._s(s+1))]),t._v(" "),i("td",{attrs:{width:"10%"}},[t._v(t._s(e.num))]),t._v(" "),i("td",{attrs:{width:"23%"}},[t._v(t._s(e.membery.num)+" "+t._s(e.membery.named))]),t._v(" "),i("td",{attrs:{width:"20%"}},[t._v("\n        "+t._s(t.ser_timed(e.start_time))+"\n        "),i("div",{staticClass:"tip-wrapper tip-pos-fix animate-shake hand",domProps:{innerHTML:t._s(t.ser_timed_now_month(e.start_time,e.id))},on:{click:t.showTip}})]),t._v(" "),i("td",{staticClass:"text-center",attrs:{width:"12%"}},[t._v(t._s(e.freight_num))]),t._v(" "),i("td",{staticClass:"text-center",attrs:{width:"12%"},on:{click:function(i){return t.pdfView(e.id)}}},[t._v("查看")]),t._v(" "),i("td",{staticClass:"text-center",attrs:{width:"12%"}},[i("i",{staticClass:"float-right",on:{click:function(i){return t.option(e.id,"trash")}}},[i("remove")],1),t._v(" "),i("i",{staticClass:"float-right",on:{click:function(i){return t.option(e.id,"update")}}},[i("pencil")],1)])])}),0)])},staticRenderFns:[]};var p=i("VU/8")(_,m,!1,function(t){i("OTU3")},"data-v-445ac974",null).exports,u=i("HT3s"),h=i("U5hB"),f=i("nN2X"),v={components:{FullHeightLayout:r.a,PricesViewTop:c,PricesViewBody:p,Loading:h.a,Trash:u.a,PricesPdfModal:f.a},name:"PricesView",data:function(){return{pricesList:[],activeId:0,activePrices:{},isLoading:!0}},mounted:function(){this.loadData()},methods:{loadData:function(){var t=this;setTimeout(function(){n.a.prices.getList_Prices({},!0).then(function(e){t.isLoading=!1,t.pricesList=e})},s.a.delayTime)},ser_timed:function(t){return a.a.timed.ser_timed(t,!0,!0)},option:function(t,e){this.activeId=t,"update"==e||"trash"==e&&a.a.showModal("trashModal")},pdfView:function(t){this.activePrices=this.pricesList.filter(function(e){return e.id==t})[0],this.$refs.pdfModal.collectData(this.activePrices),a.a.showModal("pricesPdfViewModal")},_trash:function(){var t=this;a.a.closeModal("trashModal"),null!=this.activeId&&this.activeId>0&&n.a.prices.trash(this.activeId).then(function(e){if(n.a.judge_response(e)){e.id;a.a.showToast("删除成功！！"),t.isLoading=!0,t.loadData()}})}}},b={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("full-height-layout",[i("div",{attrs:{slot:"layout_title"},slot:"layout_title"},[t._v("报价单")]),t._v(" "),i("prices-view-top",{attrs:{slot:"layout_inner_head"},slot:"layout_inner_head"}),t._v(" "),t.isLoading?i("transition",{attrs:{slot:"layout_inner_body",name:"fade"},slot:"layout_inner_body"},[i("loading")],1):i("prices-view-body",{attrs:{slot:"layout_inner_body",prices:t.pricesList},on:{pdfView_Father:t.pdfView,option_Father:t.option},slot:"layout_inner_body"}),t._v(" "),i("div",{attrs:{slot:"layout_extra"},slot:"layout_extra"},[i("trash",{on:{trashItem:t._trash}}),t._v(" "),i("prices-pdf-modal",{ref:"pdfModal",attrs:{the_member:null,the_prices_timed:null,the_prices_numed:null,the_prices_content:[],isPrint:!0}})],1)],1)},staticRenderFns:[]};var w=i("VU/8")(v,b,!1,function(t){i("j00S")},"data-v-46079eb9",null);e.default=w.exports},hHnX:function(t,e){},j00S:function(t,e){},nN2X:function(t,e,i){"use strict";var s=i("/xUl"),a=(i("0jG4"),i("NAQQ")),n=(i("5nBN"),i("wYMm"),i("JSMz")),r=i("Bmzg"),o=i("mz5e"),c=i("FHA3"),d=i("rBoy"),l=i("U5hB"),_={components:{PdfFooter:n.a,PdfHeader:r.a,PdfPriceMember:o.a,PdfPriceMsg:c.a,PdfPricesFreight:d.a,Loading:l.a},name:"PricesPdf",props:{the_prices_content:{type:Array},the_member:{type:Object},the_prices_timed:{type:String},the_prices_numed:{type:String},isPrint:{type:Boolean,default:!1}},mounted:function(){},data:function(){return{pcc_id:0,membery:null,prices_timed:null,prices_numed:null,content:[],isLoading:!0}},methods:{invoicePrint:function(){},collectData:function(t){var e=this;this.prices_numed=t.num,this.prices_timed=a.a.timed.ser_timed(t.start_time,!1,!0),this.membery=t.membery,s.a.prices_content.getOneByPrices({price_collect:t.id}).then(function(t){t.length>0&&(e.pcc_id=t[0].id,e.content=JSON.parse(t[0].content)),e.isLoading=!1})},printPdf:function(){var t=this.$router.resolve({path:"/pdf_prices",query:{pcc_id:this.pcc_id}});window.open(t.href,"_blank")}}},m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:"pricesPdfViewModal"}},[i("div",{staticClass:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-body"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-12 text-center fs-12 mt-2"},[i("pdf-header",[t._v("\n              报价单\n            ")])],1),t._v(" "),i("div",{staticClass:"col-sm-12"},[i("table",{staticClass:"pdf-table-outter"},[i("tr",[i("td",{attrs:{width:"65%"}},[null!=t.the_member?i("pdf-price-member",{attrs:{member:t.the_member}}):i("pdf-price-member",{attrs:{member:t.membery}})],1),t._v(" "),i("td",[null!=t.the_member?i("pdf-price-msg",{attrs:{member:t.the_member,pricesTime:t.the_prices_timed,pricesNum:t.the_prices_numed}}):i("pdf-price-msg",{attrs:{member:t.membery,pricesTime:t.prices_timed,pricesNum:t.prices_numed}})],1)])])]),t._v(" "),i("div",{staticClass:"col-sm-12"},[t.the_prices_content.length>0?i("pdf-prices-freight",{attrs:{freights:t.the_prices_content}}):i("pdf-prices-freight",{attrs:{freights:t.content}})],1)]),t._v(" "),null!=t.the_member?i("pdf-footer",{attrs:{member:t.the_member}}):i("pdf-footer",{attrs:{member:t.membery}})],1),t._v(" "),i("div",{staticClass:"modal-footer fs-12"},[i("button",{staticClass:"btn btn-light btn-sm close-btn",attrs:{"data-dismiss":"modal"}},[t._v("关闭")]),t._v(" "),t.isPrint?i("button",{staticClass:"btn btn-outline-info btn-sm print-btn",on:{click:t.printPdf}},[t._v("导出 Pdf")]):t._e()])])])])},staticRenderFns:[]};var p=i("VU/8")(_,m,!1,function(t){i("5E/x")},"data-v-588ca65b",null);e.a=p.exports}});
//# sourceMappingURL=5.e8e1144da963f07095db.js.map