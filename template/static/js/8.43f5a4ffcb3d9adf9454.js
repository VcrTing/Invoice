webpackJsonp([8],{ML9b:function(t,s){},cmxG:function(t,s){},eRkG:function(t,s){},jDdZ:function(t,s){},oG67:function(t,s,a){"use strict";var i={name:"TopBar",props:{opacity:{type:Number,default:0}},data:function(){return{email:"support@manfulls.com"}}},e={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"row top-bar p-0",class:{opacityBar:this.opacity>0}},[s("div",{staticClass:"col-sm-8"}),this._v(" "),s("div",{staticClass:"col-sm-4 text-right top-bar-right-content"},[this._v("\n    \n    "+this._s(this.$store.getters.getUserName())+"\n  ")])])},staticRenderFns:[]};var o=a("VU/8")(i,e,!1,function(t){a("ML9b")},"data-v-0843b940",null);s.a=o.exports},qmj4:function(t,s,a){"use strict";a("7t+N");var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"dialog d-none",attrs:{id:"dialog"}},[s("div",[this._v("aaaa")])])}]};var e=a("VU/8")({name:"Toast"},i,!1,function(t){a("eRkG")},"data-v-47ed3e30",null);s.a=e.exports},uO9N:function(t,s){},zINL:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=a("oG67"),e=a("qmj4"),o=a("Xxa5"),n=a.n(o),r=a("exGp"),l=a.n(r),c=a("/xUl"),m=(a("5nBN"),a("NAQQ")),u=a("I76R"),p=a.n(u),d={name:"LoginForm",data:function(){return{password:"",email:"",tip_email:"",tip_password:""}},methods:{showMsg:function(t,s){"PWD_ERROR"==t?t="密码错误！！！":"NO_USER"==t&&(t="无此账号！！！"),m.a.showToast(t,s)},_submit:function(){var t=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1800;return l()(n.a.mark(function a(){var i;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.user.login(t.email,t.password);case 2:if(!(i=(i=a.sent).data).status){a.next=11;break}return m.a.showToast("登录成功。",s),a.next=8,t.$store.commit("saveLogin",{nick:i.nick,named:t.email,pass:m.a.salt.add_salt_form_string(t.password)});case 8:setTimeout(function(){t.$router.push({path:"/"})},918),a.next=12;break;case 11:t.showMsg(i.msg,s);case 12:case"end":return a.stop()}},a,t)}))()},submitLoginForm:function(){1==this.validateForm()?this._submit():m.a.showToast("請檢查輸入")},tipClose:function(t){var s=this;setTimeout(function(){"email"==t?s.tip_email="":"password"==t&&(s.tip_password="")},4200)},tipForm:function(t,s){var a="";1!=t&&(a=t),"email"==s?this.tip_email=a:"password"==s&&(this.tip_password=a),this.tipClose(s)},validateForm:function(){var t=p.a.val_empty(this.email,"電郵");return 1==t?(t=p.a.val_email(this.email,"電郵"),this.tipForm(t,"email")):this.tipForm(t,"email"),1==(t=p.a.val_empty(this.password,"密碼"))?(t=p.a.val_char(this.password,"密碼"),this.tipForm(t,"password")):this.tipForm(t,"password"),t}}},f={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("form",{staticClass:"form form-panel text-left of-visible"},[a("div",{staticClass:"form-group of-visible"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",id:"email",placeholder:"電郵地址"},domProps:{value:t.email},on:{input:function(s){s.target.composing||(t.email=s.target.value)}}}),t._v(" "),a("small",{staticClass:"form-text text-muted",attrs:{id:"emailTip"}},[t._v(t._s(t.tip_email))])]),t._v(" "),a("div",{staticClass:"form-group of-visible"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"密碼"},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}}),t._v(" "),a("small",{staticClass:"form-text text-muted",attrs:{id:"passwordTip"}},[t._v(t._s(t.tip_password))])])])},staticRenderFns:[]};var v=a("VU/8")(d,f,!1,function(t){a("cmxG")},"data-v-93b21364",null).exports,h={name:"AuthLayout",props:{backImg:{type:String,default:"login.jpg"}}},_={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"position-relative wrapper"},[s("div",{staticClass:"position-absolute bg"}),this._v(" "),s("div",{staticClass:"position-absolute content"},[this._t("content")],2)])},staticRenderFns:[]};var g=a("VU/8")(h,_,!1,function(t){a("uO9N")},"data-v-b20530fa",null).exports,w={name:"LoginView",components:{ScaffoldBar:i.a,Toast:e.a,LoginForm:v,AuthLayout:g},methods:{submit:function(){this.$refs.form.submitLoginForm()}}},b={render:function(){var t=this.$createElement,s=this._self._c||t;return s("auth-layout",{attrs:{backImg:"login.jpg"}},[s("div",{staticClass:"bg-hui",attrs:{slot:"content"},slot:"content"},[s("scaffold-bar",{staticClass:"position-fixed"}),this._v(" "),s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row d-flex justify-content-center wrapper"},[s("div",{staticClass:"col-sm-12 col-lg-4 pt-5"},[s("h1",{staticClass:"login-title"},[this._v("登入")]),this._v(" "),s("div",{staticClass:"login-panel bg-white def-shadow mt-2 text-center of-visible"},[s("login-form",{ref:"form"}),this._v(" "),s("button",{staticClass:"btn btn-outline-info login-btn",on:{click:this.submit}},[this._v("提交")])],1)])])]),this._v(" "),s("toast")],1)])},staticRenderFns:[]};var x=a("VU/8")(w,b,!1,function(t){a("jDdZ")},"data-v-f494aa9c",null);s.default=x.exports}});
//# sourceMappingURL=8.43f5a4ffcb3d9adf9454.js.map