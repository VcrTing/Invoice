webpackJsonp([9],{"Lt+a":function(t,e){},OT5H:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={components:{MemberPaU:a("ZloS").a},name:"MemberPlus",data:function(){return{optionCODE:"plus"}}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("member-pa-u",{attrs:{option:this.optionCODE}},[e("div",{attrs:{slot:"page_title"},slot:"page_title"},[this._v("新增客户")])])},staticRenderFns:[]};var s=a("VU/8")(n,o,!1,function(t){a("Lt+a")},"data-v-1032c84e",null);e.default=s.exports},PVJD:function(t,e){},ZloS:function(t,e,a){"use strict";a("5nBN"),a("wYMm");var n=a("NAQQ"),o=a("/xUl"),s=a("mvHQ"),i=a.n(s),r=(a("0jG4"),a("I76R")),m=a.n(r),c=a("BO1k"),d=a.n(c),l={name:"LabelInput",props:{the_placeholder:{type:String},the_name:{type:String},the_validate_types:{type:Array,default:function(){return["empty"]}},the_min_length:{type:Number,default:3},the_max_length:{type:Number,default:60}},data:function(){return{value:"",tip_value:""}},methods:{validate:function(){var t=!0,e=!1,a=void 0;try{for(var n,o=d()(this.the_validate_types);!(t=(n=o.next()).done);t=!0){var s=n.value;console.log(s)}}catch(t){e=!0,a=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw a}}}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("label",{attrs:{for:t.the_name}},[t._t("default")],2),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"form-control",attrs:{type:"text",id:t.the_name,placeholder:t.the_placeholder},domProps:{value:t.value},on:{change:t.validate,input:function(e){e.target.composing||(t.value=e.target.value)}}}),t._v(" "),a("small",{staticClass:"form-text text-muted",attrs:{id:t.the_name+"Tip"}},[t._v(t._s(t.tip_value))])])},staticRenderFns:[]};var _=a("VU/8")(l,u,!1,function(t){a("kFZ5")},"data-v-5ae65cb7",null).exports,p={name:"MemberPlusForm",props:{the_member:{type:Object,default:null},the_option:{type:String}},components:{LabelInput:_},data:function(){return{areas:[],tags:[],named:"",num:"",addr:"",contact_named:"",contact_phoned:"",contact_area:0,tag:0,tip_named:"",tip_num:"",tip_addr:"",tip_contact_named:"",tip_contact_phoned:""}},mounted:function(){var t=this;null!=this.the_member&&"{}"!=i()(this.the_member)&&(this.num=this.the_member.num,this.addr=this.the_member.addr,this.named=this.the_member.named,this.contact_named=this.the_member.contact_named,this.contact_phoned=this.the_member.phoned,this.contact_area=this.the_member.area.id,this.tag=this.the_member.tag.id),o.a.area.getList_Area({},!0).then(function(e){t.areas=e,0==t.contact_area&&(t.contact_area=e[0].id)}),o.a.tag.getList_Tag({},!0).then(function(e){t.tags=e,0==t.tag&&(t.tag=e[0].id)})},methods:{_submit:function(t){var e=this;if("update"==this.the_option){var a=this.the_member.id;o.a.member.edit(a,t).then(function(t){o.a.judge_response(t)&&(n.a.showToast("修改成功！！！"),setTimeout(function(){e.$router.push("/home/member")},2e3))})}else o.a.member.add(t).then(function(t){o.a.judge_response(t)&&(n.a.showToast("新增成功！！！"),setTimeout(function(){e.$router.push("/home/member")},2e3))})},submitMemberForm:function(){if(1==this.validateForm()){var t={num:this.num,named:this.named,addr:this.addr,contact_named:this.contact_named,phoned:this.contact_phoned,tag_id:this.tag,area_id:this.contact_area};this._submit(t)}},tipClose:function(t){var e=this;setTimeout(function(){"num"==t?e.tip_num="":"named"==t?e.tip_named="":"addr"==t?e.tip_addr="":"contact_named"==t?e.tip_contact_named="":"contact_phoned"==t&&(e.tip_contact_phoned="")},4200)},tipForm:function(t,e){var a="";1!=t&&(a=t),"num"==e?this.tip_num=a:"named"==e?this.tip_named=a:"addr"==e?this.tip_addr=a:"contact_named"==e?this.tip_contact_named=a:"contact_phoned"==e&&(this.tip_contact_phoned=a),this.tipClose(e)},validateForm:function(){var t=m.a.val_empty(this.num,"货号");return 1==t?(t=m.a.val_char(this.num,"货号"),this.tipForm(t,"num")):this.tipForm(t,"num"),1==(t=m.a.val_empty(this.named,"名称"))?(t=m.a.val_char(this.named,"名称"),this.tipForm(t,"named")):this.tipForm(t,"named"),1==(t=m.a.val_empty(this.addr,"地址"))?(t=m.a.val_char(this.addr,"地址"),this.tipForm(t,"addr")):this.tipForm(t,"addr"),1==(t=m.a.val_empty(this.contact_named,"联络人名称"))?(t=m.a.val_char(this.contact_named,"联络人名称"),this.tipForm(t,"contact_named")):this.tipForm(t,"contact_named"),1==(t=m.a.val_empty(this.contact_phoned,"联络人电话"))?(t=m.a.val_char(this.contact_phoned,"联络人电话"),this.tipForm(t,"contact_phoned")):this.tipForm(t,"contact_phoned"),t}}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-6"},[a("label",{attrs:{for:"named"}},[t._v("名称")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.named,expression:"named"}],staticClass:"form-control",attrs:{type:"text",id:"named",placeholder:"名称"},domProps:{value:t.named},on:{input:function(e){e.target.composing||(t.named=e.target.value)}}}),t._v(" "),a("small",{staticClass:"form-text text-muted",attrs:{id:"namedTip"}},[t._v(t._s(t.tip_named))])]),t._v(" "),a("div",{staticClass:"form-group col-sm-6"},[a("label",{attrs:{for:"num"}},[t._v("编号")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.num,expression:"num"}],staticClass:"form-control",attrs:{type:"text",id:"num",placeholder:"编号"},domProps:{value:t.num},on:{input:function(e){e.target.composing||(t.num=e.target.value)}}}),t._v(" "),a("small",{staticClass:"form-text text-muted",attrs:{id:"numTip"}},[t._v(t._s(t.tip_num))])]),t._v(" "),a("div",{staticClass:"form-group col-sm-3"},[a("label",{attrs:{for:"tag"}},[t._v("类型")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.tag,expression:"tag"}],staticClass:"form-control",attrs:{id:"tag"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.tag=e.target.multiple?a:a[0]}}},t._l(t.tags,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.named))])}),0)]),t._v(" "),a("div",{staticClass:"form-group col-sm-9"},[a("label",{attrs:{for:"addr"}},[t._v("地址")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.addr,expression:"addr"}],staticClass:"form-control",attrs:{type:"text",id:"addr",placeholder:"地址"},domProps:{value:t.addr},on:{input:function(e){e.target.composing||(t.addr=e.target.value)}}}),t._v(" "),a("small",{staticClass:"form-text text-muted",attrs:{id:"addrTip"}},[t._v(t._s(t.tip_addr))])]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"form-group col-sm-6"},[a("label",{attrs:{for:"contact_named"}},[t._v("名称")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.contact_named,expression:"contact_named"}],staticClass:"form-control",attrs:{type:"text",id:"contact_named",placeholder:"名称"},domProps:{value:t.contact_named},on:{input:function(e){e.target.composing||(t.contact_named=e.target.value)}}}),t._v(" "),a("small",{staticClass:"form-text text-muted",attrs:{id:"contact_namedTip"}},[t._v(t._s(t.tip_contact_named))])]),t._v(" "),a("div",{staticClass:"form-group col-sm-6"},[a("label",{attrs:{for:"contact_area"}},[t._v("电话")]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.contact_area,expression:"contact_area"}],staticClass:"form-control",attrs:{id:"contact_area"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.contact_area=e.target.multiple?a:a[0]}}},t._l(t.areas,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.area))])}),0)]),t._v(" "),a("div",{staticClass:"col-sm-8"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.contact_phoned,expression:"contact_phoned"}],staticClass:"form-control",attrs:{type:"text",id:"contact_phoned",placeholder:"电话"},domProps:{value:t.contact_phoned},on:{input:function(e){e.target.composing||(t.contact_phoned=e.target.value)}}}),t._v(" "),a("small",{staticClass:"form-text text-muted",attrs:{id:"contact_phonedTip"}},[t._v(t._s(t.tip_contact_phoned))])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-12 mt-2"},[e("h5",{staticClass:"overflow-hidden"},[this._v("联络人")])])}]};var v={name:"MemberPlus",components:{MemberPaUForm:a("VU/8")(p,h,!1,function(t){a("aGYX")},"data-v-39ba8f59",null).exports,CustomModal:a("uT2u").a},props:{option:{type:String}},data:function(){return{memberId:null,membery:null,msg:"未检测到需要修改的用户！"}},mounted:function(){"plus"==this.option?this.judgePlus():"update"==this.option&&this.judgeUpdate()},methods:{judgePlus:function(){this.membery={}},judgeUpdate:function(){var t=this;this.memberId=this.$route.query.memberId,null!=this.memberId?o.a.member.getOne(this.memberId).then(function(e){t.membery=e}):n.a.showModal("customModal")},submitMember:function(){this.$refs.memberOption.submitMemberForm()},done:function(){var t=this;n.a.closeModal("customModal"),setTimeout(function(){t.$router.push("/home/member")},700)}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"row mt-1"},[a("div",{staticClass:"col-sm-12"},[a("h2",{staticClass:"fw-b text-main"},[t._t("page_title")],2)])]),t._v(" "),a("div",{staticClass:"row mt-2 pt-1"},[a("div",{staticClass:"col-sm-12 data-panel-wrapper"},[a("div",{staticClass:"data-panel-wrapper def-shadow br-horizonS"},[null!=this.membery?a("member-pa-u-form",{ref:"memberOption",attrs:{the_member:t.membery,the_option:t.option}}):t._e(),t._v(" "),a("div",{staticClass:"mt-3 float-right"},[a("button",{staticClass:"btn btn-info btn-lg",on:{click:t.submitMember}},[t._v("\n            保存\n          ")])])],1)])]),t._v(" "),a("custom-modal",{attrs:{need_cancel:!1},on:{done_Father:t.done}},[a("div",{attrs:{slot:"title"},slot:"title"},[t._v("提示")]),t._v(" "),a("div",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.msg))]),t._v(" "),a("div",{attrs:{slot:"submit_text"},slot:"submit_text"},[t._v("跳转至“展示”")])])],1)},staticRenderFns:[]};var b=a("VU/8")(v,f,!1,function(t){a("PVJD")},"data-v-1973906a",null);e.a=b.exports},aGYX:function(t,e){},kFZ5:function(t,e){}});
//# sourceMappingURL=9.9a5eff403e240a533403.js.map