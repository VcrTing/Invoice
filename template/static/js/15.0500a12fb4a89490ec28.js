webpackJsonp([15],{HC7h:function(t,e){},RhkG:function(t,e){},fiGY:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i("5nBN");var s=i("wYMm"),a=i("NAQQ"),n=i("/xUl"),r=i("gS0T"),o={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h5",{staticClass:"fw-none mt-2"},[t._v("\n    全部\n  ")]),t._v(" "),i("table",{staticClass:"table m-0"},[i("tr",{staticClass:"text-left"},[i("td",{staticClass:"text-accent",attrs:{width:"6%"}},[t._v("#")]),t._v(" "),i("td",{attrs:{width:"10%"}},[t._v("報價單號")]),t._v(" "),i("td",{attrs:{width:"20%"}},[t._v("所屬客戶")]),t._v(" "),i("td",{attrs:{width:"15%"}},[t._v("報價日期")]),t._v(" "),i("td",{staticClass:"text-center",attrs:{width:"12%"}},[t._v("付款期限")]),t._v(" "),i("td",{staticClass:"text-center",attrs:{width:"10%"}},[t._v("產品數量")]),t._v(" "),i("td",{staticClass:"text-center",attrs:{width:"10%"}},[t._v("Pdf 文件")]),t._v(" "),i("td",{staticClass:"text-center",attrs:{width:"12%"}})])])])}]};var c=i("VU/8")({name:"PricesViewTop"},o,!1,function(t){i("wAvo")},"data-v-772fb88a",null).exports,d=i("z8RL"),l=i("SiM+"),_=i("uT2u"),h={name:"PricesViewBody",components:{Pencil:d.a,Remove:l.a,CustomModal:_.a},props:{prices:{type:Array}},data:function(){return{activeId:0}},methods:{ser_timed:function(t){return a.a.timed.ser_timed(t,!0,!0)},ser_timed_now_month:function(t,e){a.a.timed.is_now_month(t);return""},option:function(t,e){this.activeId=t,"update"!=e?this.$emit("option_Father",t,e):this.done()},pdfView:function(t){this.$emit("pdfView_Father",t)},showTip:function(){a.a.showToast("該報價單是屬於今月份的。")},done:function(){this.$emit("option_Father",this.activeId,"update")}}},u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("table",{staticClass:"table m-0 table-top-line-none"},[i("tbody",t._l(t.prices,function(e,s){return i("tr",{key:e.id,staticClass:"text-left"},[i("td",{staticClass:"text-accent",attrs:{width:"6%"}},[t._v(t._s(s+1))]),t._v(" "),i("td",{attrs:{width:"10%"}},[t._v(t._s(e.num))]),t._v(" "),i("td",{attrs:{width:"20%"}},[t._v(t._s(e.membery.num)+" "+t._s(e.membery.named))]),t._v(" "),i("td",{attrs:{width:"15%"}},[t._v("\n          "+t._s(t.ser_timed(e.start_time))+"\n          "),i("div",{staticClass:"tip-wrapper tip-pos-fix animate-shake hand",domProps:{innerHTML:t._s(t.ser_timed_now_month(e.start_time,e.id))},on:{click:t.showTip}})]),t._v(" "),i("td",{staticClass:"text-center",attrs:{width:"12%"}},[t._v(t._s(e.pay_time.named))]),t._v(" "),i("td",{staticClass:"text-center",attrs:{width:"10%"}},[t._v(t._s(e.freight_num))]),t._v(" "),i("td",{staticClass:"text-center hand",attrs:{width:"10%"},on:{click:function(i){return t.pdfView(e.id)}}},[t._v("查看")]),t._v(" "),i("td",{staticClass:"text-center",attrs:{width:"12%"}},[i("i",{staticClass:"float-right",on:{click:function(i){return t.option(e.id,"trash")}}},[i("remove")],1),t._v(" "),i("i",{staticClass:"float-right",on:{click:function(i){return t.option(e.id,"update")}}},[i("pencil")],1)])])}),0)]),t._v(" "),i("custom-modal",{attrs:{need_cancel:!0,title:"提示",txt:"按修改立即轉到修改頁面",id_prefix:"pricesUpdateSure"},on:{done_Father:t.done}},[i("div",{attrs:{slot:"submit_text"},slot:"submit_text"},[t._v("立即跳轉")])])],1)},staticRenderFns:[]};var p=i("VU/8")(h,u,!1,function(t){i("RhkG")},"data-v-773cd731",null).exports,v=i("HT3s"),f=i("U5hB"),m=i("nN2X"),w=i("cpG1"),y={components:{FullHeightLayout:r.a,PricesViewTop:c,PricesViewBody:p,Empty:w.a,Loading:f.a,Trash:v.a,PricesPdfModal:m.a},name:"PricesView",data:function(){return{pricesList:[],activeId:0,activePrices:{},isLoading:!0}},mounted:function(){this.loadData()},methods:{loadData:function(){var t=this;setTimeout(function(){n.a.prices.getList_Prices({},!0).then(function(e){t.isLoading=!1,t.pricesList=e}).catch(function(t){a.a.showToast("網絡連接失敗。")})},s.a.delayTime)},ser_timed:function(t){return a.a.timed.ser_timed(t,!0,!0)},option:function(t,e){var i=this;this.activeId=t,"update"==e?n.a.prices_content.getOneByPrices({price_collect:t}).then(function(t){n.a.judge_response_list(t)?i.$router.push({path:"/home/prices_update",query:{priceContentId:t[0].id}}):a.a.showToast("該數據已過期！！！")}).catch(function(t){a.a.showToast("網絡連接失敗。")}):"trash"==e&&a.a.showModal("trashModal")},pdfView:function(t){this.activePrices=this.pricesList.filter(function(e){return e.id==t})[0],this.$refs.pdfModal.collectData(this.activePrices),a.a.showModal("pricesPdfViewModal")},_trash:function(){var t=this;a.a.closeModal("trashModal"),null!=this.activeId&&this.activeId>0&&n.a.prices.trash(this.activeId).then(function(e){if(n.a.judge_response(e)){e.id;a.a.showToast("刪除成功！！"),t.isLoading=!0,t.loadData()}})}}},x={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("full-height-layout",[i("div",{attrs:{slot:"layout_title"},slot:"layout_title"},[t._v("報價單")]),t._v(" "),i("prices-view-top",{attrs:{slot:"layout_inner_head"},slot:"layout_inner_head"}),t._v(" "),this.pricesList.length>0?i("prices-view-body",{attrs:{slot:"layout_inner_body",prices:t.pricesList},on:{pdfView_Father:t.pdfView,option_Father:t.option},slot:"layout_inner_body"}):t.isLoading?i("transition",{attrs:{slot:"layout_inner_body",name:"fade"},slot:"layout_inner_body"},[i("loading")],1):i("empty",{attrs:{slot:"layout_inner_body"},slot:"layout_inner_body"}),t._v(" "),i("div",{attrs:{slot:"layout_extra"},slot:"layout_extra"},[i("trash",{on:{trashItem:t._trash}}),t._v(" "),i("prices-pdf-modal",{ref:"pdfModal",attrs:{the_member:null,the_prices_timed:null,the_prices_numed:null,the_prices_content:[],the_prices_paytime:null,isPrint:!0}})],1)],1)},staticRenderFns:[]};var C=i("VU/8")(y,x,!1,function(t){i("HC7h")},"data-v-3514fe6e",null);e.default=C.exports},wAvo:function(t,e){}});
//# sourceMappingURL=15.0500a12fb4a89490ec28.js.map