webpackJsonp([1],{"+tPU":function(t,e,i){i("xGkn");for(var s=i("7KvD"),n=i("hJx8"),a=i("/bQp"),r=i("dSzd")("toStringTag"),l="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<l.length;c++){var o=l[c],v=s[o],d=v&&v.prototype;d&&!d[r]&&n(d,r,o),a[o]=a.Array}},"4mcu":function(t,e){t.exports=function(){}},BO1k:function(t,e,i){t.exports={default:i("fxRn"),__esModule:!0}},CRfR:function(t,e){},DXgV:function(t,e){},EGZi:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},PpSf:function(t,e){},RNEU:function(t,e){},S5Qx:function(t,e){},U5HZ:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("7t+N"),n=i.n(s),a=i("5nBN"),r=i.n(a),l=i("NAQQ"),c=i.n(l),o=i("0jG4"),v={name:"InvoiceFooter",props:{member:{type:Object}}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row mt-4"},[i("div",{staticClass:"col-sm-6"}),t._v(" "),i("div",{staticClass:"col-sm-6"},[i("div",{staticClass:"fs-10"},[t._v("收货人")]),t._v(" "),i("div",{staticClass:"fs-12 fw-bold"},[i("b",[t._v(t._s(t.member.named))])]),t._v(" "),i("div",{staticClass:"mt-5"}),t._v(" "),i("div",{staticClass:"br-t-pdf",staticStyle:{width:"85%"}}),t._v(" "),i("div",{staticClass:"fs-10"},[t._v("授权签署及公司盖章")])]),t._v(" "),i("div",{staticClass:"col-sm-6 mt-4"})])},staticRenderFns:[]};var _=i("VU/8")(v,d,!1,function(t){i("S5Qx")},null,null).exports,u=i("BO1k"),m=i.n(u),f={name:"InvoiceFreightTable",props:{freights:{type:Array}},computed:{freight_price:function(){},result_price:function(){var t=0,e=!0,i=!1,s=void 0;try{for(var n,a=m()(this.freights);!(e=(n=a.next()).done);e=!0){var r=n.value,l=r.freight.price,o=r.num,v=c.a.floatNum.floatMul(l,o);t=c.a.floatNum.floatAdd(v,t)}}catch(t){i=!0,s=t}finally{try{!e&&a.return&&a.return()}finally{if(i)throw s}}return t}},methods:{unit:function(t){return r.a.ser_unit(t)}}},h={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("table",{staticClass:"pdf-table fs-12 w-100 pdf-table-freight mt-2 text-center"},[t._m(0),t._v(" "),i("tbody",[t._l(t.freights,function(e,s){return i("tr",{key:e.id},[i("td",[t._v(t._s(s+1))]),t._v(" "),i("td",[t._v(t._s(e.freight.num))]),t._v(" "),i("td",[t._v(t._s(e.freight.named))]),t._v(" "),i("td",[i("div",{staticClass:"text-right float-left",staticStyle:{width:"60%"}},[t._v(t._s(e.num)+" ")]),t._v(" "),i("div",{staticClass:"text-left float-left",staticStyle:{width:"40%"}},[t._v(t._s(t.unit(e.freight.unit)))])]),t._v(" "),i("td",{staticClass:"text-right"},[t._v(t._s(e.freight.price))]),t._v(" "),i("td",[t._v(" ")]),t._v(" "),i("td",{staticClass:"text-right"},[t._v(t._s((parseFloat(e.freight.price)*parseFloat(e.num)).toFixed(2)))])])}),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),i("tr",{staticClass:"pdf-table-freight-footer"},[i("td"),t._v(" "),i("td",{attrs:{colspan:"3"}}),t._v(" "),i("td",[t._v("统计")]),t._v(" "),i("td",[t._v("HK$")]),t._v(" "),i("td",{staticClass:"text-right"},[t._v(t._s(t.result_price))])])],2)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",{},[i("th",{attrs:{width:"38"}},[t._v("项号")]),t._v(" "),i("th",[t._v("货号")]),t._v(" "),i("th",[t._v("描述")]),t._v(" "),i("th",[t._v("数量")]),t._v(" "),i("th",[t._v("单价")]),t._v(" "),i("th",{attrs:{width:"38"}},[t._v("折扣")]),t._v(" "),i("th",[t._v("金额")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",{staticClass:"pdf-table-freight-footer br-t-pdf"},[e("td",[this._v("备注")]),this._v(" "),e("td",{attrs:{colspan:"3"}}),this._v(" "),e("td",[this._v("项目合计")]),this._v(" "),e("td",[this._v("HK$")]),this._v(" "),e("td",{staticClass:"text-right"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",{staticClass:"pdf-table-freight-footer"},[e("td"),this._v(" "),e("td",{attrs:{colspan:"3"}}),this._v(" "),e("td",[this._v("附加费")]),this._v(" "),e("td"),this._v(" "),e("td",{staticClass:"text-right"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",{staticClass:"pdf-table-freight-footer"},[e("td"),this._v(" "),e("td",{attrs:{colspan:"3"}}),this._v(" "),e("td",[this._v("折扣")]),this._v(" "),e("td"),this._v(" "),e("td",{staticClass:"text-right"})])}]};var p=i("VU/8")(f,h,!1,function(t){i("DXgV")},"data-v-545d7cba",null).exports,g={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",{staticClass:"pdf-table w-100 fs-12"},[i("tbody",[i("tr",[i("td",{attrs:{width:"48%"}},[t._v("发票编号：")]),t._v(" "),i("td",[t._v(t._s(t.listing_num))])]),t._v(" "),i("tr",[i("td",[t._v("发票日期：")]),t._v(" "),i("td",[t._v(t._s(t.listing_time))])]),t._v(" "),t._m(0),t._v(" "),i("tr",[i("td",[t._v("客户编号：")]),t._v(" "),i("td",[t._v(t._s(t.member.num))])]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("参考编号：")]),this._v(" "),e("td")])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("销售员：")]),this._v(" "),e("td")])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("付款方式：")]),this._v(" "),e("td")])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("页数：")]),this._v(" "),e("td")])}]};var b=i("VU/8")({name:"InvoiceInvoiceTable",data:function(){return{listing_num:"S000374",listing_time:"2020/11/16",member:{named:"潮乡",addr:"将军奥常宇路10号安宇花园25号地铺",num:"1208-C",contact_phoned:"+86 13576639986",contact_named:"张三"}}}},g,!1,function(t){i("czDK")},"data-v-52049ede",null).exports,C={name:"InvoiceMemberTable",props:{member:{type:Object}}},x={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",{staticClass:"fs-12 w-100 pdf-table"},[i("tbody",[i("tr",[i("td",{attrs:{width:"72"}},[t._v("客户：")]),t._v(" "),i("td",{attrs:{colspan:"2"}},[t._v(t._s(t.member.named))])]),t._v(" "),i("tr",[i("td",[t._v("地址：")]),t._v(" "),i("td",{attrs:{colspan:"2"}},[t._v(t._s(t.member.addr))])]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{colspan:"3"}},[this._v(" ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{colspan:"3"}},[this._v(" ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("联络人：")]),this._v(" "),e("td",{attrs:{width:"40%"}}),this._v(" "),e("td")])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("电话：")]),this._v(" "),e("td"),this._v(" "),e("td",[this._v("传真：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("电邮地址：")]),this._v(" "),e("td",{attrs:{colspan:"2"}})])}]};var w={components:{InvoiceFreightTable:p,InvoiceMemberTable:i("VU/8")(C,x,!1,function(t){i("yYDa")},"data-v-1f802b88",null).exports,InvoiceInvoiceTable:b,InvoiceFooter:_},name:"InvoiceView",props:{listings:{type:Array}},data:function(){return{pdf_title:"Lumicrest International Limited",pdf_sub:"Office: Rm A12, 8/F Lee King Industrial Building 12 Ng Fong Street, San Po Kong, Kowloon, Hong",pdf_contact_phoned:"5488 1979 5424 4119",pdf_contact_fax:"2777 0760",memberSelect:{}}},created:function(){var t=c.a.storage._get("memberSelect");this.memberSelect=JSON.parse(t)},methods:{invoicePrint:function(){}}},S={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:"invoiceViewModal"}},[i("div",{staticClass:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-body"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-12 text-center fs-12 mt-2"},[i("div",{staticClass:"pdf-title"},[t._v(t._s(t.pdf_title))]),t._v(" "),i("div",[t._v("\n              "+t._s(t.pdf_sub)+"\n            ")]),t._v(" "),i("div",[t._v("\n              电话："+t._s(t.pdf_contact_phoned)+"  传真："+t._s(t.pdf_contact_fax)+"\n            ")]),t._v(" "),i("div",[t._v("\n              电邮地址：\n            ")]),t._v(" "),i("div",{staticClass:"pdf-title mt-2"},[t._v("\n              发票\n            ")])]),t._v(" "),i("div",{staticClass:"col-sm-12"},[i("table",{staticClass:"pdf-table-outter"},[i("tr",[i("td",{attrs:{width:"70%"}},[i("invoice-member-table",{attrs:{member:t.memberSelect}})],1),t._v(" "),i("td",[i("invoice-invoice-table")],1)])])]),t._v(" "),i("div",{staticClass:"col-sm-12"},[i("invoice-freight-table",{attrs:{freights:t.listings}})],1)]),t._v(" "),i("invoice-footer",{attrs:{member:t.memberSelect}})],1),t._v(" "),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn btn-outline-info btn-sm",on:{click:t.invoicePrint}},[t._v("导出成 Pdf")])])])])])},staticRenderFns:[]};var y=i("VU/8")(w,S,!1,function(t){i("rx3G")},"data-v-074f6751",null).exports,L={name:"ListingPlusMember",props:{listing_num:{type:String}},data:function(){return{member:{named:"",num:"",addr:""}}},created:function(){var t=this.$route.query.memberSelect;if(console.log("m = "+t),void 0!=t)this.member=this.$route.query.memberSelect;else{var e=c.a.storage._get("memberSelect");this.member=JSON.parse(e)}},mounted:function(){var t=c.a.storage._get("memberSelect");this.member=JSON.parse(t)}},E={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"h4 overflow-hidden"},[t._v("\n    "+t._s(t.member.named)+"\n  ")]),t._v(" "),i("div",[t._v("\n    "+t._s(t.member.addr)+"\n  ")]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-lg-6 col-sm-10"},[i("div",{staticClass:"mt-2"},[i("div",{staticClass:"float-left d-inline"},[t._v("客户编号")]),t._v(" "),i("div",{staticClass:"float-right d-inline"},[t._v(t._s(t.member.num))])]),t._v(" "),i("div",[i("div",{staticClass:"float-left d-inline"},[t._v("报价编号")]),t._v(" "),i("div",{staticClass:"float-right d-inline"},[t._v(t._s(t.listing_num))])])])])])},staticRenderFns:[]};var $={name:"ListingPlusEvent",data:function(){return{time_listing:"2020/11/16"}},methods:{openInvioceView:function(){this.$emit("invoiceViewSubmit")},saveTest:function(){c.a.showToast("无响应。")}}},T={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-9"}),t._v(" "),i("div",{staticClass:"col-sm-3"},[i("div",{staticClass:"btn btn-light btn-sm float-right btn-sub"},[i("div",{staticClass:"d-inline",on:{click:t.saveTest}},[t._v("存为草稿")])])])]),t._v(" "),i("div",{staticClass:"row mt-3"},[i("div",{staticClass:"col-sm-5"}),t._v(" "),i("div",{staticClass:"col-sm-2"}),t._v(" "),i("div",{staticClass:"col-sm-2"}),t._v(" "),i("div",{staticClass:"col-sm-3"},[i("div",{staticClass:"btn btn-outline-info btn-sm btn-block"},[i("div",{staticClass:"d-inline",on:{click:t.openInvioceView}},[t._v("转换为发票")])])])]),t._v(" "),i("div",{staticClass:"row mt-3"},[i("div",{staticClass:"col-lg-7 col-sm-2"}),t._v(" "),i("div",{staticClass:"col-lg-5 col-sm-10"},[i("div",{staticClass:"float-left d-inline"},[t._v("报价日期")]),t._v(" "),i("div",{staticClass:"float-right d-inline"},[t._v(t._s(t.time_listing))])])])])},staticRenderFns:[]};var V={components:{InvoiceView:y,ListingPlusMember:i("VU/8")(L,E,!1,function(t){i("RNEU")},"data-v-0357b25e",null).exports,ListingPlusEvent:i("VU/8")($,T,!1,function(t){i("zHnl")},"data-v-3106da55",null).exports},name:"ListingPlusDataTable",data:function(){return{listing_numed:"S000374",select:[1,3],listings:o.a.listings,listingSelect:[]}},methods:{unit:function(t){return r.a.ser_unit(t)},inList:function(t,e){return c.a.inList(t,e)},removeItem:function(t){var e=c.a.indexList(t,this.select);this.select.length<2?c.a.showToast("至少选择一项菜品。"):this.select.splice(e,1)},addItem:function(t){c.a.indexList(t,this.select)<0&&this.select.push(t)},itemOption:function(t,e){"add"==e?this.addItem(t):"remove"==e&&this.removeItem(t)},invoiceViewModal:function(){var t=this;this.listingSelect=this.listings.filter(function(e){return t.inList(e.id,t.select)}),c.a.showModal("invoiceViewModal")},changeNum:function(t,e){var i=n()("#num_"+t).val();this.listings[e].num=i}}},k={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"data-panel def-shadow bg-white"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-5 pt-2"},[i("listing-plus-member",{attrs:{listing_num:t.listing_numed}})],1),t._v(" "),i("div",{staticClass:"col-sm-7"},[i("listing-plus-event",{on:{invoiceViewSubmit:t.invoiceViewModal}})],1)]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-12"},[i("table",{staticClass:"table mt-3"},[t._m(0),t._v(" "),i("tbody",{staticClass:"listing-tbody"},t._l(t.listings,function(e,s){return i("tr",{key:e.id,class:{inActive:!t.inList(e.id,t.select)}},[i("th",{staticClass:"text-center text-main",attrs:{scope:"row"}},[t._v(t._s(s+1))]),t._v(" "),i("td",{staticClass:"text-center"},[t._v(t._s(e.freight.num))]),t._v(" "),i("td",[t._v(t._s(e.freight.named))]),t._v(" "),i("td",[i("div",{staticClass:"input-group input-group-sm float-left listing-num-input"},[i("input",{staticClass:"form-control",attrs:{type:"text",id:"num_"+e.id},domProps:{value:e.num},on:{keyup:function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter")?null:t.changeNum(e.id,s)}}}),t._v(" "),i("div",{staticClass:"input-group-append"},[i("span",{staticClass:"input-group-text",attrs:{id:"basic-addon2"}},[t._v(t._s(t.unit(e.freight.unit)))])])])]),t._v(" "),i("td",{staticClass:"text-body"},[t._v("$ "+t._s(e.freight.price))]),t._v(" "),i("td",[t._v("$ "+t._s((e.freight.price*e.num).toFixed(2)))]),t._v(" "),i("td",{staticClass:"text-center"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.inList(e.id,t.select),expression:"inList(l.id, select)"}]},[i("i",{staticClass:"fa hand listing-table-icon fa-remove",on:{click:function(i){return t.itemOption(e.id,"remove")}}})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.inList(e.id,t.select),expression:"!inList(l.id, select)"}]},[i("i",{staticClass:"fa hand listing-table-icon fa-plus",on:{click:function(i){return t.itemOption(e.id,"add")}}})])])])}),0)])])]),t._v(" "),i("invoice-view",{attrs:{listings:t.listingSelect}})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",{staticClass:"text-center",attrs:{scope:"col",width:"90px"}},[t._v("序号")]),t._v(" "),i("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("货号")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("描述")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("数量")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("单价")]),t._v(" "),i("th",{attrs:{scope:"col"}},[t._v("金额")]),t._v(" "),i("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("选择")])])])}]};var I={components:{ListingPlusDataTable:i("VU/8")(V,k,!1,function(t){i("CRfR")},"data-v-4d84b3ac",null).exports},name:"ListingPlus"},P={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content-wrapper"},[this._m(0),this._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 data-panel-wrapper"},[e("listing-plus-data-table")],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row mt-1"},[e("div",{staticClass:"col-sm-12"},[e("div",{staticClass:"page-title fw-b text-main"},[this._v("新增报价单")])])])}]};var R=i("VU/8")(I,P,!1,function(t){i("PpSf")},null,null);e.default=R.exports},czDK:function(t,e){},fxRn:function(t,e,i){i("+tPU"),i("zQR9"),t.exports=i("g8Ux")},g8Ux:function(t,e,i){var s=i("77Pl"),n=i("3fs2");t.exports=i("FeBl").getIterator=function(t){var e=n(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return s(e.call(t))}},rx3G:function(t,e){},xGkn:function(t,e,i){"use strict";var s=i("4mcu"),n=i("EGZi"),a=i("/bQp"),r=i("TcQ7");t.exports=i("vIB/")(Array,"Array",function(t,e){this._t=r(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,n(1)):n(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values"),a.Arguments=a.Array,s("keys"),s("values"),s("entries")},yYDa:function(t,e){},zHnl:function(t,e){}});
//# sourceMappingURL=1.36ea3ba8592c458cecbf.js.map